#: import get_color_from_hex kivy.utils.get_color_from_hex

<Startup>
    canvas.before:
        Color:
            rgba: self.bg_color
        Rectangle:
            size: self.size
            pos: self.pos

    PFloatLayout:
        id: layy
        orientation: "vertical"
        disabled: True
        opacity: 0 if self.disabled else 1

        Carousel:
            id: carousel
            scroll_timeout: 0  # test whats better
            on_current_slide: root.current_slide(self.index)

            PFloatLayout:
                orientation: "vertical"
                canvas.before:
                    Rectangle:
                        pos: self.pos
                        size: self.size
                        source: 'assets/images/startup/bgs/image1x1.png'

                Image:
                    source: "assets/images/startup/online_chat.png"
                    pos_hint: {"center_x": .5, "center_y": .7}
                    size_hint: .8, .8
                PLabel:
                    text: "Boost Your Chatting"
                    pos_hint: {"center_y": .47}
                    halign: "center"
                    font_name: "BPoppins"
                    font_size: "20sp"
                    text_color: rgba(255, 255, 255, 200)

                PLabel:
                    text: "Welcome to Veilo, where cutting-edge technology meets seamless chatting."
                    pos_hint: {"center_x": .5, "center_y": .35}
                    size_hint_x: .92
                    font_name: "MPoppins"

                    text_size: self.width, None
                    halign: "center"

                    font_size: "16sp"
                    text_color: rgba(255, 255, 255, 255)

                PButton:
                    mode: "custom"
                    text: "Skip"
                    pos_hint: {"center_x": .88, "center_y": .95}
                    font_name: "MPoppins"
                    font_size: "13sp"
                    text_color: rgba(255, 255, 255, 200)
                    on_release:
                        root.end()

                PButton:
                    mode: "custom"
                    text: "Next"
                    pos_hint: {"center_x": .88, "center_y": .06}
                    font_name: "MPoppins"
                    font_size: "13sp"
                    text_color: rgba(255, 255, 255, 200)
                    on_release:
                        root.next()

            PFloatLayout:
                orientation: "vertical"
                canvas.before:
                    Rectangle:
                        pos: self.pos
                        size: self.size
                        source: 'assets/images/startup/bgs/image2x1.png'
                Image:
                    source: "assets/images/startup/writer.png"
                    pos_hint: {"center_x": .5, "center_y": .7}
                    size_hint: .8, .8

                PLabel:
                    text: "Get Started with Veilo"
                    pos_hint: {"center_y": .47}
                    halign: "center"
                    font_name: "BPoppins"
                    font_size: "20sp"
                    text_color: rgba(255, 255, 255, 200)

                PLabel:
                    text: "Enjoy lightning-fast conversations that put you in control, coupled with state-of-the-art security measures ensuring your peace of mind in every chat."
                    pos_hint: {"center_x": .5, "center_y": .35}
                    size_hint_x: .92
                    font_name: "MPoppins"

                    text_size: self.width, None
                    halign: "center"

                    font_size: "16sp"
                    text_color: rgba(255, 255, 255, 255)

                PButton:
                    mode: "custom"
                    text: "Next"
                    pos_hint: {"center_x": .88, "center_y": .06}
                    font_name: "MPoppins"
                    font_size: "13sp"
                    text_color: rgba(255, 255, 255, 200)
                    on_release:
                        root.next()

                PButton:
                    mode: "custom"
                    text: "Previous"
                    pos_hint: {"center_x": .15, "center_y": .06}
                    font_name: "MPoppins"
                    font_size: "13sp"
                    text_color: rgba(255, 255, 255, 200)
                    on_release:
                        root.before()




            PFloatLayout:
                orientation: "vertical"
                canvas.before:
                    Rectangle:
                        pos: self.pos
                        size: self.size
                        source: 'assets/images/startup/bgs/image3x1.png'
                Image:
                    source: "assets/images/startup/complete.png"
                    pos_hint: {"center_x": .5, "center_y": .7}
                    size_hint: .7, .7
                PLabel:
                    text: "Start chatting more securely"
                    pos_hint: {"center_y": .4}
                    halign: "center"
                    font_name: "BPoppins"
                    font_size: "20sp"
                    text_color: rgba(255, 255, 255, 200)

                PLabel:
                    text: "Take charge of your conversations with Veilo's seamless chat management. "
                    pos_hint: {"center_x": .5, "center_y": .35}
                    size_hint_x: .92
                    font_name: "MPoppins"

                    text_size: self.width, None
                    halign: "center"

                    font_size: "16sp"
                    text_color: rgba(255, 255, 255, 255)
                PButton:
                    mode: "custom"
                    text: "Previous"
                    pos_hint: {"center_x": .15, "center_y": .13}
                    font_name: "MPoppins"
                    font_size: "13sp"
                    text_color: rgba(255, 255, 255, 200)
                    on_release:
                        root.before()
                PButton:
                    id: get_btn
                    text: "Get Started"
                    background_color: 0, 0, 0, 0
                    font_name: "BPoppins"
                    font_size: "12sp"
                    size_hint: .9, .075
                    pos_hint: {"center_x": .5, "center_y": .06}

                    canvas.before:
                        Color:
                            rgb: root.btn_color
                        RoundedRectangle:
                            size: self.size
                            pos: self.pos
                            radius: [30]

                    on_release:
                        root.get_started()
    PLabel:
        id: slide0
        disabled: True
        opacity: 0 if self.disabled else 1

        text: "."
        text_color: rgba(253, 140, 95, 255)
        pos_hint: {"center_x": .45, "center_y": .1}
        font_size: "80sp"
    PLabel:
        id: slide1
        disabled: True
        opacity: 0 if self.disabled else 1

        text: "."
        text_color: rgba(233, 237, 240, 255)
        pos_hint: {"center_x": .5, "center_y": .1}
        halign: "center"
        font_size: "80sp"
    PLabel:
        id: slide2
        disabled: True
        opacity: 0 if self.disabled else 1

        text: "."
        text_color: rgba(233, 237, 240, 255)
        pos_hint: {"center_x": .55, "center_y": .1}
        font_size: "80sp"


    PBoxLayout:
        id: intro
        orientation: "vertical"
        adaptive_height: True
        pos_hint: {"center_x": .5, "center_y": .55}

        PLabel:
            id: title
            text: "veilo[size=150sp].[/size]"
            font_size: sp(100)
            markup: True
            font_name: "LexendMedium"
            text_color: 1, 1, 1, 1
            scale: 1
            adaptive_height: True
            canvas.before:
                PushMatrix
                Scale:
                    origin: self.center
                    x: self.scale
                    y: self.scale
            canvas.after:
                PopMatrix